#pragma C++

RunAutoVerb: sysverb
	verb = 'runauto'
	sdesc = "runauto"
    full_cmd_list = []
    curr_pos = 1
    run_auto = nil
    processNextCmd={
       while (self.curr_pos < length(self.full_cmd_list))
       {
 		  local curr_cmd = self.full_cmd_list[self.curr_pos];
		  if (substr(curr_cmd,1,1)=='>') {
			  self.curr_pos += 1;
              self.processCmd(curr_cmd);
			  return;
		  }
		  self.curr_pos += 1;
       }
    }
    processCmd(curr_cmd)={
		//Отрезаем первую букву
		curr_cmd = substr(curr_cmd,2,length(curr_cmd)-1);
	    "<br>><<curr_cmd>><br>";
		//Выполняем команду интерпретатором
		parserReplaceCommand(curr_cmd);
    }
	action(actor) = {
       self.curr_pos = 1;
       self.full_cmd_list = [];
       self.full_cmd_list += self.cmd_list1;
       self.full_cmd_list += self.cmd_list2;
       self.full_cmd_list += self.cmd_list3;
       self.full_cmd_list += self.cmd_list4;
       self.full_cmd_list += self.cmd_list5;
       "Автозапуск включен.<br>";
       self.run_auto = true;
    }
    cmd_list1 = [
'=== УРОВЕНЬ-0 ==='
'*** ВЕРХНИЙ ЭТАЖ ***'
'>автотест'
'>о себя'
'>о окно'
'>посмотреть в окно'
'>с'
'>выбрать крионож'
'>вп'
'>вп'
'>ударить столик'
'>вн'
'*** НИЖНИЙ ЭТАЖ ***'
'>открыть решетку'
'>о'
'>взять всё'
'>разобрать коммуникатор'
'>ю'
'>о'
'>вп'
'>вп'
'>вп'
'>ударить'
'>ударить'
'>ударить'
'>ударить'
'>ударить'
'>ударить'
'>ударить'
'>о'
'>разобрать робота'
'>синтез'
'>4'
'>1'
'>0'
'>синтез'
'>0'
'>посмотреть под платформу'
'>с'
'>вв'
'>ю'
'>взять лампу'
'>с'
'>вн'
'>ю'
'>посмотреть под платформу'
'>вниз'
'*** ПОД ДНИЩЕМ ***'
'>з'
'>с'
'>в'
'>в'
'>с'
'>с'
'>з'
'>з'
'>с'
'>в'
'>в'
'>с'
'>з'
'>с'
'>з'
'>с'
'>в'
'>в'
'>с'
'*** КАБИНА И БЕГСТВО ОТ ПЫЛЕСОСА***'
'>о люстру'
'>о панель'
'>посмотреть в окно'
'>нажать на рычаг'
'>о пролом'
'>ю'
'>о дыру'
'>вв'
'>нажать на кнопку'
'>взять всё'
'>разобрать пылесборщика'
'>вн'
'>с'
'>нажать на рычаг'
'>'
]
cmd_list2 = [
'>'
'=== УРОВЕНЬ-1 ==='
'>ж'
'>ж'
'*** ИГРА С КАРТОЙ ***'
'>поговорить с картой'
'>поговорить с картой'
'>хна'
'>хан'
'>шаг'
'>азу'
'>аул'
'>лик'
'>сок'
'>куб'
'>бар'
'>рок'
'>раб'
'>лоб'
'>взять всё'
'>синтез'
'>1'
'>10'
'>0'
'>выбрать револьвер'
'>с'
'>о площадку'
'>с'
'*** СРАЖЕНИЕ ЗА гравидиск***'
'>взять диск'
'>вп'
'>вп'
'>вп'
'>вп'
'>стрелять'
'>стрелять'
'>нз'
'>нз'
'>нз'
'>нз'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>встать на диск'
'>взять все'
'>синтез'
'>1'
'>10'
'>5'
'>1'
'>0'
'>влезть на башню'
'>синтез'
'>4'
'>4'
'>'
'>использовать шприц'
'>синтез'
'>1'
'>5'
'>'
'*** СРАЖЕНИЕ у гравилифта***'
'>ю'
'>стрелять'
'>вп'
'>вп'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
''
'>положить диск на площадку'
'>о площадку'
'>сломать диск'
'>использовать шприц'
'>использовать шприц'
'>встать на диск'
'*** НАВЕРХУ***'
'>о крышу'
'>с'
'>стрелять'
'>стрелять'
'>стрелять'
'>выбрать нож'
'>о стеклянный пол'
'>стрелять в стеклянный пол'
'>с'
'>ударить'
'>ударить'
'>ударить'
'>нажать на рычаг'
'>в'
'>ударить'
]
cmd_list3 = [
'>ударить'
'>ударить'
'>о садик'
'>разобрать поливального'
'>синтез'
'>4'
'>2'
'>0'
'>использовать шприц'
'>использовать шприц'
'>выбрать револьвер'
'>в'
'>стрелять'
'>стрелять'
'>стрелять'
'>нажать кнопку'
'>ю'
'>стрелять'
'>стрелять'
'>стрелять'
'>ю'
'>стрелять'
'>стрелять'
'>нажать на рычаг'
'>синтез'
'>4'
'>2'
'>0'
'>использовать шприц'
'>использовать шприц'
'>с'
'>с'
'>нажать кнопку'
'>ю'
'>ю'
'>нажать на рычаг'
'>з'
'>о антенный блок'
'>разобрать антенну'
'>стрелять'
'>о центр'
'>з'
'>о'
'>с'
'>с'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>взять всё'
'>нажать на рычаг'
'>в'
'>в'
'>выбрать нож'
'>нажать кнопку'
'*** СПУСК ***'
'>ж'
'>з'
'>ж'
'>ж'
'>ж'
'>ж'
'>з'
'>синтез'
'>5'
'>1'
'>6'
'>1'
'>7'
'>1'
'>'
'>использовать поглощатель'
'>использовать криоускоритель'
'>использовать микровозврат'
'>ж'
'>ж'
'>ж'
'>использовать шприц'
'>з'
'*** ПРИЗРАЧНАЯ ДАМА ***'
'>вп'
'>вп'
'>ж'
'>ж'
'>ударить'
'>ударить'
'>ж'
'>ж'
'>ударить'
'>ударить'
'>ж'
'>ж'
'>ударить'
'>ударить'
'>с'
'>'
'>'
]
cmd_list4 = [
'=== УРОВЕНЬ-2 ==='
'>выбрать дробовик'
'>синтез'
'>2'
'>20'
'>'
'>разобрать пылесос'
'>разобрать трамвайку'
'>з'
'*** БЕЖИМ ПО КОРИДОРАМ ***'
'>стрелять'
'>стрелять'
'>з'
'>в'
'>взять решетку'
'>осмотреть шахту'
'>с'
'>св'
'>стрелять'
'>разобрать фен'
'>синтез'
'>4'
'>5'
'>'
'>использовать шприц'
'>юз'
'>сз'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>синтез'
'>4'
'>2'
'>0'
'>разбить окно'
'>ж'
'>использовать шприц'
'>ж'
'>использовать шприц'
'>ж'
'>ж'
'>ж'
'>ж'
'>с'
'*** ЧУЖОЙ ***'
'>с'
'>разобрать завал'
'>ю'
'>ю'
'>открыть люк'
'>с'
'>вв'
'>нажать на кнопку'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>вн'
'>открыть шкафчик'
'>зайти в шкаф'
'>'
'*** ПЛЯЖ ДО СРАЖЕНИЯ ***'
'>о себя'
'>синтез'
'>2'
'>10'
'>'
'>з'
'>поговорить со столиком'
'>правила'
'>старт'
'>5'
'>открыть'
'>поговорить со столиком'
'>старт'
'>5'
'>добавить'
'>поговорить со столиком'
'>старт'
'>5'
'>открыть'
'>поговорить со столиком'
'>в'
'>в'
'>с'
'>з'
'>з'
'>встать на флайборд'
'>в'
'>в'
'>ю'
'>з'
'>з'
'>зайти в автобус'
]
cmd_list5 = [
'>выйти'
'>о'
'*** СРАЖЕНИЕ С КАЧКАМИ ***'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>стрелять'
'>синтез'
'>4'
'>3'
'>'
'>использовать шприц'
'>использовать шприц'
'>синтез'
'>2'
'>10'
'>'
'>выйти'
'*** РАЗБОРКИ С МОНСТРАМИ И СПАСЕНИЕ МАЛЬЧИКА ***'
'>стрелять'
'>стрелять'
'>стрелять'
'>о'
'>в'
'>стрелять'
'>стрелять'
'>стрелять'
'>в'
'>с'
'>ю'
'>з'
'>з'
'*** ПРИВЕЛ МАЛЬЧИКА К МАМЕ ***'
'>в'
'>в'
'>с'
'>з'
'>з'
'>синтез'
'>4'
'>4'
'>'
'>использовать шприц'
'>использовать шприц'
'>использовать шприц'
'>синтез'
'>2'
'>20'
'>'
'>встать на флайборд'
'*** ПОГОНЯ НА ФЛАЙБОРДЕ ***'
'>стрелять'
'>стрелять'
'>ж'
'>вв'
'>с'
'>стрелять'
'>использовать шприц'
'>использовать шприц'
'>вн'
'>вн'
'>з'
'>в'
'>стрелять удильщик'
'>ж'
'>стрелять'
'>вв'
'>вв'
'>стрелять'
'>з'
'>ю'
'>стрелять'
'>стрелять'
'>ж'
'*** ФИНАЛ ***'
]

;